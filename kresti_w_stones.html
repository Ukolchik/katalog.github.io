<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö—Ä–µ—Å—Ç—ã —Å –∫–∞–º–Ω—è–º–∏</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    #topBtn {
      display: none;
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 999;
      font-size: 24px;
      background-color: #444;
      color: white;
      border: none;
      padding: 12px 16px;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    }
    #topBtn:hover { background-color: #222; }

    .item {
      text-align: center;
      margin-bottom: 20px;
    }
    .item img {
      max-width: 100%;
      height: auto;
      border-radius: 6px;
      cursor: pointer;
    }
    .item p {
      margin: 8px 0 4px;
    }

    /* –∫–æ—Ä–∑–∏–Ω–∞ –≤ —Ö–µ–¥–µ—Ä–µ */
    .cart-icon {
      position: absolute;
      top: 20px;
      right: 20px;
      cursor: pointer;
      font-size: 28px;
    }
    .cart-count {
      background-color: red;
      color: white;
      border-radius: 50%;
      padding: 2px 8px;
      font-size: 14px;
      position: absolute;
      top: -10px;
      right: -10px;
    }

    /* —Å—Ç–∏–ª–∏ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∏ */
    .modal {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.6);
      justify-content: center;
      align-items: center;
    }
    .modal-content {
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      display: flex;
      gap: 20px;
      width: 600px;
      max-width: 90%;
      position: relative;
    }
    .modal-content img {
      max-width: 250px;
      border-radius: 8px;
    }
    .modal-content h2 { margin: 0 0 10px; }
    .close {
      position: absolute;
      right: 15px; top: 10px;
      font-size: 24px;
      cursor: pointer;
    }
    .actions {
      margin-top: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .actions input {
      width: 60px;
      padding: 5px;
      text-align: center;
    }
    .actions button {
      padding: 8px 15px;
      background: #013077;
      border: none;
      color: #fff;
      border-radius: 6px;
      cursor: pointer;
    }
    .actions button:hover { background: #005fa3; }
  </style>
</head>
<body>
<header>
  <h1>–ö–∞—Ç–∞–ª–æ–≥</h1>
  <a href="index.html" class="back-link">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
  <p>–¢–µ–ª. +7 (910) 985-11-85</p>
  <div class="cart-icon" onclick="location.href='cart.html'">
    üõí
    <span id="cart-count" class="cart-count">0</span>
  </div>
</header>

<main class="gallery" id="gallery"></main>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞ -->
<div id="productModal" class="modal" onclick="closeProductModal()">
  <div class="modal-content" onclick="event.stopPropagation()">
    <span class="close" onclick="closeProductModal()">&times;</span>
    <img id="productImg" src="" alt="">
    <div class="info">
      <h2 id="productTitle"></h2>
      <div class="actions">
        <input type="number" id="productQty" value="1" min="1">
        <button id="productAddBtn">–î–æ–±–∞–≤–∏—Ç—å</button>
      </div>
    </div>
  </div>
</div>

<!-- –ö–Ω–æ–ø–∫–∞ "–ù–∞–≤–µ—Ä—Ö" -->
<button onclick="scrollToTop()" id="topBtn" title="–ù–∞–≤–µ—Ä—Ö">‚Üë</button>

<div class="order-info">
  –ß—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∑–∞–∫–∞–∑, <br>–≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–∞—Ç–∞–ª–æ–≥–µ –∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏:<br>
  <b>–¢–µ–ª–µ—Ñ–æ–Ω:</b> <a href="tel:+79109851185">+7 (910) 985-11-85</a><br>
  <b>WhatsApp / Telegram:</b> <a href="https://wa.me/79109851185" target="_blank">+7 (910) 985-11-85</a><br>
  <b>E-mail:</b> <a href="mailto:artos-iv@mail.ru">artos-iv@mail.ru</a>
</div>

<script>
  const imageFiles = [ "–ê–ó-001—Ü_2,39.jpg","–ê–ó-002—Ü_2,42.jpg","–ê–ó-003—Ü_1,51.jpg","–ê–ó-004—Ü_1,79.jpg","–ê–ó-005_1,52.jpg", "–ê–ó-006_1,13.jpg","–ê–ó-007_0,98.jpg","–ê–ó-008_1,27.jpg","–ê–ó-009_3,79.jpg","–ê–ó-010_0,90.jpg", "–ê–ó-011_3,02.jpg","–ê–ó-012_0,92.jpg","–ê–ó-013_1,88.jpg","–ê–ó-014_1,65.jpg","–ê–ó-015_2,35.jpg", "–ê–ó-016_2,30.jpg","–ê–ó-017_1,04.jpg","–ê–ó-018_1,59.jpg","–ê–ó-019_1,25.jpg","–ê–ó-020_0,62.jpg", "–ê–ó-021_0,75.jpg","–ê–ó-022_1,68.jpg","–ê–ó-023_1,15.jpg","–ê–ó-024_0,80.jpg","–ê–ó-025_0,85.jpg", "–ê–ó-026_1,71.jpg","–ê–ó-027_1,21.jpg","–ê–ó-028_0,79.jpg","–ê–ó-029_2,00.jpg","–ê–ó-030_2,65.jpg", "–ê–ó-031_0,95.jpg","–ê–ó-032_2,15.jpg","–ê–ó-033_0,89.jpg","–ê–ó-034_1,44.jpg","–ê–ó-035_3,42.jpg", "–ê–ó-036_2,18.jpg","–ê–ó-037_1,25.jpg","–ê–ó-038_1,76.jpg","–ê–ó-039_1,19.jpg","–ê–ó-040_3,20.jpg", "–ê–ó-041_3,47.jpg","–ê–ó-042_2,54.jpg","–ê–ó-042_3,17.jpg","–ê–ó-043_3,30.jpg","–ê–ó-044_2,61.jpg", "–ê–ó-045_2,47.jpg","–ê–ó-046_2,20.jpg","–ê–ó-047_1,46.jpg","–ê–ó-048_2,87.jpg","–ê–ó-049_1,95.jpg", "–ê–ó-050_1,13.jpg","–ê–ó-051_1,39.jpg","–ê–ó-052_1,59.jpg","–ê–ó-053_1,76.jpg","–ê–ó-054_1,24.jpg", "–ê–ó-055_2,87.jpg","–ê–ó-056_2,05.jpg","–ê–ó-057_1,92.jpg","–ê–ó-058_1,68.jpg","–ê–ó-059_2,01.jpg", "–ê–ó-060_2,12.jpg","–ê–ó-061_2,06.jpg","–ê–ó-062_2,22.jpg","–ê–ó-063_1,63.jpg","–ê–ó-064_2,18.jpg", "–ê–ó-065_1,09.jpg","–ê–ó-066_4,42.jpg","–ê–ó-067_1,37.jpg","–ê–ó-068_7,49.jpg","–ê–ó-069_2,84.jpg", "–ê–ó-070_2,25.jpg","–ê–ó-071_0,73.jpg","–ê–ó-072_0,40.jpg","–ê–ó-073_0,60.jpg","–ê–ó-074_1,43.jpg", "–ê–ó-075_0,57.jpg","–ê–ó-076_0,58.jpg","–ê–ó-077_2,85.jpg","–ê–ó-078_5,19.jpg","–ê–ó-079_3,25.jpg", "–ê–ó-080_1,87.jpg","–ê–ó-081_1,15.jpg","–ê–ó-082_2,45.jpg","–ê–ó-083_2,02.jpg","–ê–ó-084_2,49.jpg", "–ê–ó-085_2,12.jpg","–ê–ó-086_3,18.jpg","–ê–ó-087_3,76.jpg","–ê–ó-088_1,98.jpg","–ê–ó-090_1,19.jpg", "–ê–ó-091_2,60.jpg","–ê–ó-092_2,14.jpg","–ê–ó-093_2,90.jpg","–ê–ó-094_2,62.jpg","–ê–ó-095_2,05.jpg", "–ê–ó-096_3,20.jpg","–ê–ó-097_2,18.jpg","–ê–ó-098_7,24.jpg","–ê–ó-099_1,93.jpg","–ê–ó-100_2,67.jpg", "–ê–ó-101_1,66.jpg","–ê–ó-102_1,75.jpg" ];

  const gallery = document.getElementById("gallery");

  function getCart() { return JSON.parse(localStorage.getItem("cart")) || []; }
  function saveCart(cart) { localStorage.setItem("cart", JSON.stringify(cart)); }
  function updateCartCount() { document.getElementById("cart-count").textContent = getCart().length; }

  let currentProduct = null;

  function openProductModal(src, name) {
    currentProduct = name;
    document.getElementById("productImg").src = src;
    document.getElementById("productTitle").textContent = name;
    document.getElementById("productQty").value = 1;
    document.getElementById("productModal").style.display = "flex";
  }

  function closeProductModal() {
    document.getElementById("productModal").style.display = "none";
  }

  document.getElementById("productAddBtn").onclick = () => {
    const qty = parseInt(document.getElementById("productQty").value);
    const cart = getCart();

    let item = cart.find(i => i.name === currentProduct);
    if (item) {
      item.qty += qty;
    } else {
      cart.push({ name: currentProduct, qty });
    }

    saveCart(cart);
    updateCartCount();
    closeProductModal();
  };

  imageFiles.forEach(file => {
    const rawName = file.split('/').pop().replace(/\.[^/.]+$/, "");
    const displayName = rawName.replace(/[_ ]/, '<br>');
    const cleanName = displayName.replace(/<br>/g, ' ');
    const src = `images/–∫–∞–º–µ–Ω–∫–∞/${file}`;

    const item = document.createElement("div");
    item.className = "item";
    item.innerHTML = `
      <img src="${src}" alt="${rawName}" onclick="openProductModal('${src}', '${cleanName}')" />
      <p>${displayName}</p>
    `;
    gallery.appendChild(item);
  });

  window.onscroll = function () {
    const btn = document.getElementById("topBtn");
    btn.style.display = (document.documentElement.scrollTop > 300) ? "block" : "none";
  };
  function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }

  updateCartCount();
</script>
</body>
</html>
